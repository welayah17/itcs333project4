<!-- 20198132 FATEMA EBRAHIM ALI SALMAN -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Submit a Review</title>
    <link rel="stylesheet" href="#">
    <script src="https://kit.fontawesome.com/76f78292cc.js" crossorigin="anonymous"></script>
    <style>
          .rating-stars i {
    font-size: 1.5em;
    color: #ffc107;
    cursor: pointer;
  }

  .rating-stars i.inactive {
    color: #e4e5e9;
  }
    </style>
</head>
<body>
    <h2>Submit a Review</h2>
    <form action="submit_review.php" method="POST">
        <!-- Reviewer ID -->
        <label for="reviewer_id">Your User ID:</label>
        <input type="number" id="reviewer_id" name="reviewer_id" required>
        <br>
        
        <!-- Reviewed User ID -->
        <label for="reviewed_user_id">User ID of the Person You're Reviewing:</label>
        <input type="number" id="reviewed_user_id" name="reviewed_user_id" required>
        <br>

        <div class="rating-section mt-4">
            <h3>Leave a Rating</h3>
            <div class="rating-stars" id="starRating">
              <i class="fa-solid fa-star inactive" data-value="1"></i>
              <i class="fa-solid fa-star inactive" data-value="2"></i>
              <i class="fa-solid fa-star inactive" data-value="3"></i>
              <i class="fa-solid fa-star inactive" data-value="4"></i>
              <i class="fa-solid fa-star inactive" data-value="5"></i>
            </div>
            <button class="btn-style mt-2" onclick="submitRating()">Submit Rating</button>
          </div>

        <!-- Rating -->
        <label for="rating">Rating (1-5):</label>
        <select id="rating" name="rating" required>
            <option value="1">1 - Poor</option>
            <option value="2">2 - Fair</option>
            <option value="3">3 - Good</option>
            <option value="4">4 - Very Good</option>
            <option value="5">5 - Excellent</option>
        </select> 
        <br>

        <!-- Comment -->
        <label for="comment">Comment:</label>
        <textarea id="comment" name="comment" rows="4"></textarea>
        <br>

        <!-- Submit Button -->
        <button type="submit">Submit Review</button>
    </form>

    <script>
        const stars = document.querySelectorAll('#starRating i');
        let selectedRating = 0;
    
        stars.forEach(star => {
          star.addEventListener('mouseover', () => {
            resetStars();
            const val = parseInt(star.dataset.value);
            for (let i = 0; i < val; i++) {
              stars[i].classList.remove('inactive');
            }
          });
    
          star.addEventListener('mouseout', () => {
            updateStars();
          });
    
          star.addEventListener('click', () => {
            selectedRating = parseInt(star.dataset.value);
            updateStars();
          });
        });
    
        function resetStars() {
          stars.forEach(s => s.classList.add('inactive'));
        }
    
        function updateStars() {
          resetStars();
          for (let i = 0; i < selectedRating; i++) {
            stars[i].classList.remove('inactive');
          }
        }
    
        function submitRating() {
          if (selectedRating > 0) {
            alert(`You rated this item ${selectedRating} out of 5.`);
          } else {
            alert("Please select a star rating before submitting.");
          }
        }
      </script>
</body>
</html>
